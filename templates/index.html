{% extends "base.html" %}

{% block title %}Home - ML Learning Assistant{% endblock %}

{% block content %}
<div class="home-page">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-left">
                <div class="hero-badge">
                    <span class="badge-icon">üöÄ</span>
                    <span class="badge-text">AI-Powered Learning</span>
                </div>
                <h1 class="hero-title">Welcome to <span class="brand">GyanGuru</span></h1>
                <p class="hero-subtitle">Master Machine Learning with Hugging Face & scikit-learn</p>
                <p class="hero-description">Experience cutting-edge ML education with pretrained models, real-time AI features, and hands-on projects</p>
            </div>
            
            <div class="hero-right">
                <div class="hero-actions">
                    <a href="/progress" class="btn btn-primary">
                        <span class="btn-icon">üìä</span>
                        View Progress
                    </a>
                    <a href="#course-modules" class="btn btn-secondary">
                        <span class="btn-icon">üìö</span>
                        Browse Modules
                    </a>
                </div>
                
                <div class="hero-features">
                    <div class="feature-tag">
                        <span class="feature-icon">ü§ñ</span>
                        <span>AI-Powered Content</span>
                    </div>
                    <div class="feature-tag">
                        <span class="feature-icon">üìä</span>
                        <span>Progress Analytics</span>
                    </div>
                    <div class="feature-tag">
                        <span class="feature-icon">üéØ</span>
                        <span>Error-Based Learning</span>
                    </div>
                    <div class="feature-tag">
                        <span class="feature-icon">üéß</span>
                        <span>Multi-Modal Learning</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Learning Modalities Section -->
    <section class="learning-modalities">
        <div class="section-header">
            <div class="header-content">
                <h2>Learning Modalities</h2>
                <p>Choose your preferred learning style or combine multiple approaches for comprehensive understanding</p>
            </div>
            <div class="header-badge">
                <span class="badge">4 Styles</span>
            </div>
        </div>
        
        <div class="modalities-grid">
            <div class="modality-card">
                <div class="modality-header">
                    <div class="modality-icon-wrapper">
                        <div class="modality-icon">üìù</div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="modality-meta">
                        <h3>Text Explanations</h3>
                        <span class="difficulty-badge">All Levels</span>
                    </div>
                </div>
                
                <div class="modality-content">
                    <p class="modality-description">Get comprehensive explanations of any ML concept from basic fundamentals to advanced applications</p>
                    
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">‚ú®</span>
                            <span>Adaptive difficulty levels</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üéØ</span>
                            <span>Interactive learning</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üìö</span>
                            <span>Comprehensive coverage</span>
                        </div>
                    </div>
                    
                    <div class="modality-actions">
                        <a href="/text-explanation" class="btn btn-primary">
                            <span class="btn-icon">
                                <span class="icon">üìù</span>
                                Start Learning
                            </span>
                        </a>
                        <button class="btn btn-ghost btn-sm">Learn More</button>
                    </div>
                </div>
            </div>
            
            <div class="modality-card">
                <div class="modality-header">
                    <div class="modality-icon-wrapper">
                        <div class="modality-icon">üíª</div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="modality-meta">
                        <h3>Code Generation</h3>
                        <span class="difficulty-badge">Production Ready</span>
                    </div>
                </div>
                
                <div class="modality-content">
                    <p class="modality-description">Generate production-ready Python code with automatic dependency detection and best practices</p>
                    
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">‚ö°</span>
                            <span>Real-time generation</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üõ°Ô∏è</span>
                            <span>Error handling</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üèÜ</span>
                            <span>Best practices</span>
                        </div>
                    </div>
                    
                    <div class="modality-actions">
                        <a href="/code-generation" class="btn btn-success">
                            <span class="btn-icon">
                                <span class="icon">üíª</span>
                                Generate Code
                            </span>
                        </a>
                        <button class="btn btn-ghost btn-sm">View Examples</button>
                    </div>
                </div>
            </div>
            
            <div class="modality-card">
                <div class="modality-header">
                    <div class="modality-icon-wrapper">
                        <div class="modality-icon">ÔøΩ</div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="modality-meta">
                        <h3>Audio Learning</h3>
                        <span class="difficulty-badge">Offline First</span>
                    </div>
                </div>
                
                <div class="modality-content">
                    <p class="modality-description">Listen to engaging audio lessons while commuting or during breaks</p>
                    
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">üéµ</span>
                            <span>Clear narration</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üì±</span>
                            <span>Mobile friendly</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚ö°</span>
                            <span>Offline generation</span>
                        </div>
                    </div>
                    
                    <div class="modality-actions">
                        <a href="/audio-learning" class="btn btn-warning">
                            <span class="btn-icon">
                                <span class="icon">üéß</span>
                                Listen Now
                            </span>
                        </a>
                        <button class="btn btn-ghost btn-sm">Sample Audio</button>
                    </div>
                </div>
            </div>
            
            <div class="modality-card">
                <div class="modality-header">
                    <div class="modality-icon-wrapper">
                        <div class="modality-icon">ÔøΩ</div>
                        <div class="icon-glow"></div>
                    </div>
                    <div class="modality-meta">
                        <h3>Visual Diagrams</h3>
                        <span class="difficulty-badge">Interactive</span>
                    </div>
                </div>
                
                <div class="modality-content">
                    <p class="modality-description">AI-generated visual diagrams and illustrations for better understanding</p>
                    
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">üé®</span>
                            <span>Interactive diagrams</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üß†</span>
                            <span>Visual explanations</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üó∫Ô∏è</span>
                            <span>Concept mapping</span>
                        </div>
                    </div>
                    
                    <div class="modality-actions">
                        <a href="/image-visualization" class="btn btn-outline">
                            <span class="btn-icon">
                                <span class="icon">ÔøΩ</span>
                                View Diagrams
                            </span>
                        </a>
                        <button class="btn btn-ghost btn-sm">See Examples</button>
                    </div>
                </div>
            </div>
        </div>
    <!-- Advanced Features Section -->
    <section class="advanced-features">
        <div class="section-header">
            <div class="header-content">
                <h2>üöÄ Advanced Learning Intelligence</h2>
                <p>Go beyond traditional learning with AI-powered personalization and adaptive feedback</p>
            </div>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon-large">üìä</div>
                <h3>Smart Progress Tracking</h3>
                <p>Advanced analytics track your learning patterns across text, code, audio, and visual modalities. Resume exactly where you left off with personalized recommendations.</p>
                <ul class="feature-benefits">
                    <li>Modality usage analytics</li>
                    <li>Learning pattern recognition</li>
                    <li>Personalized learning paths</li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-icon-large">üéØ</div>
                <h3>Error-Based Learning</h3>
                <p>Transform mistakes into learning opportunities. Our AI analyzes your errors and provides targeted corrective explanations with alternative approaches.</p>
                <ul class="feature-benefits">
                    <li>Pattern error detection</li>
                    <li>Adaptive difficulty adjustment</li>
                    <li>Personalized error explanations</li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-icon-large">ü§ñ</div>
                <h3>AI-Powered Content</h3>
                <p>Fresh, personalized educational content generated on-demand using advanced AI models. No more static tutorials - get content tailored to your needs.</p>
                <ul class="feature-benefits">
                    <li>Dynamic content generation</li>
                    <li>Multi-model AI integration</li>
                    <li>Contextual explanations</li>
                </ul>
            </div>
        </div>
    </section>
    <section class="course-modules-section" id="course-modules">
        <h2>üìö Course Modules</h2>
        <p>Track your progress through structured Machine Learning modules</p>
        <div class="modules-container" id="modulesContainer">
            <div class="loading-spinner">Loading course modules...</div>
        </div>
        <div class="modules-actions">
            <div class="btn-group">
                <a href="/progress" class="btn btn-primary">View Detailed Progress</a>
                <a href="/text-explanation" class="btn btn-secondary">Start Learning</a>
            </div>
        </div>
    </section>
    
    <!-- Platform Stats Section -->
    <section class="platform-stats">
        <div class="section-header">
            <h2>üöÄ Platform Features</h2>
            <p>Powered by cutting-edge AI technology</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ü§ñ</div>
                <h4>AI Model</h4>
                <p>Google Gemini 2.0 Flash</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <h4>Learning Modalities</h4>
                <p>4 Different Styles</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <h4>Course Coverage</h4>
                <p>Any ML Concept</p>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <h4>Quality</h4>
                <p>Production Ready</p>
            </div>
        </div>
        
        <div class="stats-cta">
            <a href="/progress" class="btn btn-primary btn-lg">Get Started</a>
        </div>
    </section>
</div>

{% endblock %}

<style>
/* ========================================
   HERO SECTION - Professional Design
   ======================================== */
   
.hero {
    position: relative;
    text-align: center;
    padding: 5rem 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #8b5cf6 100%);
    color: white;
    border-radius: 20px;
    margin-bottom: 4rem;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 3rem;
}

.hero-left {
    flex: 1;
    text-align: left;
}

.hero-right {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
}

.hero-visual {
    display: none;
}

.hero-features {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin: 2rem 0 2.5rem 0;
}

.feature-tag {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.15);
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.feature-tag:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.feature-icon {
    font-size: 1.1rem;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    margin: 0 0 1.5rem 0;
    line-height: 1.1;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.brand {
    background: linear-gradient(45deg, #ffd700, #ffed4e);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: #667eea;
    padding: 0.1rem 0.5rem;
    border-radius: 8px;
}

.hero-subtitle {
    font-size: 1.4rem;
    font-weight: 300;
    margin: 0 0 1rem 0;
    opacity: 0.9;
    letter-spacing: 0.5px;
}

.hero-description {
    font-size: 1.1rem;
    line-height: 1.7;
    max-width: 600px;
    margin: 0 0 2.5rem 0;
    opacity: 0.8;
    font-weight: 300;
}

.hero-actions {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 3rem;
}

.hero-visual {
    position: absolute;
    top: 2rem;
    right: 2rem;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    z-index: 1;
}

.floating-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    animation: float-in 0.6s ease-out;
}

.floating-card.card-1 { animation-delay: 0.1s; }
.floating-card.card-2 { animation-delay: 0.2s; }
.floating-card.card-3 { animation-delay: 0.3s; }
.floating-card.card-4 { animation-delay: 0.4s; }

@keyframes float-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card-icon {
    font-size: 1.5rem;
}

/* ========================================
   ADVANCED FEATURES SECTION
   ======================================== */

.advanced-features {
    margin: 5rem 0;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    padding: 4rem 0;
    border-radius: 20px;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

.feature-card {
    background: white;
    padding: 2.5rem;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    text-align: center;
    transition: all 0.3s ease;
    border: 1px solid rgba(102, 126, 234, 0.1);
}

.feature-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    border-color: rgba(102, 126, 234, 0.2);
}

.feature-icon-large {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    display: block;
}

.feature-card h3 {
    color: #333;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.feature-card p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.feature-benefits {
    list-style: none;
    padding: 0;
    margin: 0;
}

.feature-benefits li {
    color: #555;
    padding: 0.5rem 0;
    border-bottom: 1px solid #eee;
    position: relative;
    padding-left: 1.5rem;
}

.feature-benefits li:before {
    content: '‚úì';
    color: #667eea;
    font-weight: bold;
    position: absolute;
    left: 0;
}

.feature-benefits li:last-child {
    border-bottom: none;
}

.learning-modalities {
    margin-bottom: 4rem;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(102, 126, 234, 0.1);
}

.header-content h2 {
    color: #333;
    margin-bottom: 0.5rem;
    font-size: 2.2rem;
    font-weight: 700;
}

.header-content p {
    color: #666;
    font-size: 1.1rem;
    max-width: 500px;
    line-height: 1.6;
}

.header-badge {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
}

.badge {
    background: rgba(102, 126, 234, 0.1);
    color: #667eea;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
}

.modality-card {
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.1);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.modality-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.05), transparent);
    transition: left 0.6s ease;
}

.modality-card:hover::before {
    left: 100%;
}

.modality-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    border-color: rgba(102, 126, 234, 0.3);
}

.modality-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.modality-icon-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modality-icon {
    font-size: 2.5rem;
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    color: white;
    position: relative;
    z-index: 2;
}

.icon-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 90px;
    height: 90px;
    background: radial-gradient(circle, rgba(102, 126, 234, 0.3), transparent 70%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: pulse 2s ease-in-out infinite;
    z-index: 1;
}

@keyframes pulse {
    0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
}

.modality-meta {
    text-align: right;
}

.modality-meta h3 {
    margin: 0;
    color: #333;
    font-size: 1.5rem;
    font-weight: 700;
}

.difficulty-badge {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-left: 0.5rem;
}

.modality-content {
    margin-bottom: 2rem;
}

.modality-description {
    color: #555;
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
    font-weight: 400;
}

.feature-list {
    display: grid;
    gap: 1rem;
    margin-bottom: 2rem;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 1rem;
    background: rgba(102, 126, 234, 0.03);
    border-radius: 12px;
    border-left: 3px solid rgba(102, 126, 234, 0.1);
    transition: all 0.3s ease;
}

.feature-item:hover {
    background: rgba(102, 126, 234, 0.08);
    transform: translateX(5px);
}

.feature-icon {
    font-size: 1.2rem;
    color: #667eea;
}

.modality-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
}

/* Responsive Design */
@media (max-width: 1200px) {
    .hero-content {
        max-width: 700px;
    }
    
    .hero-visual {
        display: none;
    }
}

@media (max-width: 768px) {
    .hero {
        padding: 3rem 1rem;
        border-radius: 15px;
    }
    
    .hero-title {
        font-size: 2.5rem;
        line-height: 1.2;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .hero-description {
        font-size: 1rem;
        max-width: 100%;
    }
    
    .hero-actions {
        flex-direction: column;
        gap: 1rem;
    }
    
    .section-header {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .modalities-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .modality-card {
        padding: 2rem;
    }
    
    .modality-header {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .modality-meta {
        text-align: center;
    }
    
    .feature-list {
        grid-template-columns: 1fr;
    }
    
    .modality-actions {
        flex-direction: column;
        width: 100%;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .modules-container {
        grid-template-columns: 1fr;
    }
    
    .btn-group {
        flex-direction: column;
        width: 100%;
    }
}

@media (max-width: 480px) {
    .hero {
        padding: 2rem 0.5rem;
    }
    
    .hero-title {
        font-size: 2rem;
    }
    
    .hero-badge {
        flex-direction: column;
        text-align: center;
        padding: 0.8rem;
    }
    
    .badge-text {
        font-size: 0.8rem;
    }
    
    .modality-card {
        padding: 1.5rem;
    }
    
    .modality-icon {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }
    
    .icon-glow {
        width: 80px;
        height: 80px;
    }
    
    .feature-item {
        padding: 0.8rem;
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
    }
    
    .feature-icon {
        font-size: 1rem;
    }
}

/* Accessibility & Performance */
@media (prefers-reduced-motion: reduce) {
    .hero::before,
    .floating-card,
    .modality-card::before,
    .icon-glow {
        animation: none;
    }
    
    .floating-card,
    .modality-card:hover {
        transform: none;
    }
}

/* Print Styles */
@media print {
    .hero,
    .learning-modalities,
    .course-modules-section,
    .platform-stats {
        break-inside: avoid;
    }
    
    .hero-actions,
    .modality-actions,
    .modules-actions {
        display: none;
    }
}

/* ========================================
   FINAL TOUCHES & POLISH
   ======================================== */

/* Smooth scroll behavior */
html {
    scroll-behavior: smooth;
}

/* Selection styling */
::selection {
    background: rgba(102, 126, 234, 0.2);
    color: white;
}

/* Focus improvement */
.btn:focus-visible {
    outline: 3px solid rgba(102, 126, 234, 0.6);
    outline-offset: 2px;
}

/* Loading animation improvement */
.loading-spinner {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.loading-spinner::before {
    content: '';
    width: 20px;
    height: 20px;
    border: 2px solid rgba(102, 126, 234, 0.3);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* Enhanced transitions */
.modality-card,
.module-card,
.stat-card,
.btn {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Micro-interactions */
.modality-card:hover .modality-icon {
    transform: scale(1.1);
}

.feature-item:hover .feature-icon {
    transform: scale(1.2) rotate(5deg);
}

.btn:hover {
    transform: translateY(-2px) scale(1.02);
}

/* Professional touch targets */
.btn,
.modality-card,
.feature-item {
    min-height: 44px;
}

/* Enhanced shadows */
.modality-card:hover {
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.15),
        0 0 0 2px rgba(102, 126, 234, 0.2);
}

/* Content organization */
.content-wrapper {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* Typography improvements */
h1, h2, h3, h4 {
    font-feature-settings: 'kern' 1, 'liga' 1;
    text-rendering: optimizeLegibility;
}

p {
    text-rendering: optimizeLegibility;
    line-height: 1.6;
}

/* ========================================
   LEGACY SUPPORT - Maintain compatibility
   ======================================== */

/* Platform Stats Styles */
.platform-stats {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    padding: 2rem;
    margin-bottom: 3rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    border: 1px solid #e0e0e0;
    text-align: center;
    transition: all 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.stat-card .stat-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    color: white;
    margin: 0 auto 1rem;
}

.stat-card h4 {
    margin: 0 0 0.5rem 0;
    color: #333;
    font-size: 1.1rem;
}

.stat-card p {
    margin: 0;
    color: #666;
    font-size: 0.95rem;
    font-weight: 500;
}

.stats-cta {
    text-align: center;
    margin-top: 2rem;
}

/* Legacy Stats Support */

.btn {
    display: inline-block;
    padding: 0.8rem 1.5rem;
    background-color: #667eea;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    margin-top: 1rem;
    transition: background-color 0.3s;
}

.btn:hover {
    background-color: #764ba2;
}

/* ========================================
   BUTTON SYSTEM - Professional Design
   ======================================== */
   
/* Base Button Styles */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.875rem 1.75rem;
    border: none;
    border-radius: 8px;
    font-family: inherit;
    font-size: 0.95rem;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    line-height: 1;
    min-height: 44px;
    white-space: nowrap;
    user-select: none;
}

.btn:focus {
    outline: 2px solid rgba(102, 126, 234, 0.5);
    outline-offset: 2px;
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

.btn:disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

/* Button Sizes */
.btn-sm {
    padding: 0.625rem 1.25rem;
    font-size: 0.875rem;
    min-height: 36px;
}

.btn-lg {
    padding: 1.125rem 2.25rem;
    font-size: 1.0625rem;
    min-height: 52px;
}

.btn-xl {
    padding: 1.25rem 2.5rem;
    font-size: 1.125rem;
    min-height: 60px;
}

/* Button Variants */
.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, #5a67d8 0%, #6b4a9a 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
}

.btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
}

.btn-secondary {
    background: white;
    color: #667eea;
    border: 2px solid #667eea;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.btn-secondary:hover:not(:disabled) {
    background: #667eea;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.btn-secondary:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.btn-outline {
    background: transparent;
    color: #667eea;
    border: 2px solid #667eea;
    box-shadow: none;
}

.btn-outline:hover:not(:disabled) {
    background: #667eea;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.btn-ghost {
    background: transparent;
    color: #667eea;
    border: 2px solid transparent;
    box-shadow: none;
}

.btn-ghost:hover:not(:disabled) {
    background: rgba(102, 126, 234, 0.1);
    color: #5a67d8;
    transform: translateY(-1px);
}

.btn-success {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
}

.btn-success:hover:not(:disabled) {
    background: linear-gradient(135deg, #218838 0%, #1ea574 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
}

.btn-warning {
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
}

.btn-warning:hover:not(:disabled) {
    background: linear-gradient(135deg, #e0a800 0%, #f57c00 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255, 193, 7, 0.4);
}

.btn-danger {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
}

.btn-danger:hover:not(:disabled) {
    background: linear-gradient(135deg, #c82333 0%, #a02622 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(220, 53, 69, 0.4);
}

/* Button Groups */
.btn-group {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.btn-group-vertical {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: stretch;
}

.btn-group .btn {
    border-radius: 0;
}

.btn-group .btn:first-child {
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
}

.btn-group .btn:last-child {
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
}

/* Icon Buttons */
.btn-icon {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-icon .icon {
    font-size: 1.1em;
}

.btn-icon-only {
    padding: 0.875rem;
    min-width: 44px;
    min-height: 44px;
}

/* Loading State */
.btn-loading {
    color: transparent !important;
    pointer-events: none;
}

.btn-loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    top: 50%;
    left: 50%;
    margin-left: -8px;
    margin-top: -8px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

.btn-primary.btn-loading::after {
    border-top-color: white;
}

.btn-secondary.btn-loading::after {
    border-top-color: #667eea;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Floating Action Button */
.btn-fab {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    padding: 0;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}

.btn-fab:hover {
    transform: scale(1.1);
}

/* Responsive Buttons */
@media (max-width: 768px) {
    .btn {
        padding: 0.75rem 1.5rem;
        font-size: 0.9rem;
        min-height: 40px;
    }
    
    .btn-sm {
        padding: 0.5rem 1rem;
        font-size: 0.8rem;
        min-height: 32px;
    }
    
    .btn-lg {
        padding: 1rem 2rem;
        font-size: 1rem;
        min-height: 48px;
    }
    
    .btn-xl {
        padding: 1.125rem 2.25rem;
        font-size: 1.0625rem;
        min-height: 56px;
    }
    
    .btn-group {
        flex-direction: column;
        width: 100%;
    }
    
    .btn-group .btn {
        border-radius: 8px;
    }
    
    .btn-fab {
        bottom: 1rem;
        right: 1rem;
        width: 48px;
        height: 48px;
    }
}

/* Tech Stack Styles */
.tech-stack {
    text-align: center;
}

.tech-title {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.tech-badges {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.tech-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.8rem 1.2rem;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    cursor: pointer;
    border: 2px solid transparent;
}

.tech-badge:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.tech-badge.hf {
    background: linear-gradient(135deg, #FFD700, #FFA500);
    color: #1a1a1a;
    border-color: rgba(255, 215, 0, 0.3);
}

.tech-badge.sklearn {
    background: linear-gradient(135deg, #F7931E, #FF6B35);
    color: white;
    border-color: rgba(247, 147, 30, 0.3);
}

.tech-icon {
    font-size: 1.2rem;
}

/* Enhanced Hero Actions */
.hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 2rem;
}

.hero-actions .btn {
    min-width: 160px;
}

/* Interactive Course Modules */
.modules-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.module-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.1);
    margin-bottom: 1.5rem;
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.module-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #667eea, #764ba2);
    transition: left 0.6s ease;
}

.module-card:hover::before {
    left: 100%;
}

.module-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    border-color: rgba(102, 126, 234, 0.3);
}

/* Enhanced Stats Section */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.1);
    text-align: center;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
}

.stat-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 35px rgba(0, 0, 0, 0.15);
}

.stat-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    display: block;
    width: 70px;
    height: 70px;
    margin: 0 auto 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    color: white;
    transition: all 0.3s ease;
}

.stat-card:hover .stat-icon {
    transform: scale(1.1) rotate(5deg);
}

/* Loading Animation */
.loading-spinner {
    text-align: center;
    padding: 3rem;
    color: #64748b;
    font-style: italic;
    position: relative;
}

.loading-spinner::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 3px solid rgba(102, 126, 234, 0.2);
    border-top-color: #667eea;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 2rem;
    }
    
    .hero-left {
        text-align: center;
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .hero-actions .btn {
        width: 100%;
        max-width: 300px;
    }
    
    .tech-badges {
        justify-content: center;
    }
    
    .modules-container {
        grid-template-columns: 1fr;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .tech-badge {
        font-size: 0.8rem;
        padding: 0.6rem 1rem;
    }
}

/* Enhanced Animations */
@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation for cards */
.modality-card,
.module-card,
.stat-card {
    animation: slideInUp 0.6s ease-out;
}

.modality-card:nth-child(1) { animation-delay: 0.1s; }
.modality-card:nth-child(2) { animation-delay: 0.2s; }
.modality-card:nth-child(3) { animation-delay: 0.3s; }
.modality-card:nth-child(4) { animation-delay: 0.4s; }
</style>

{% block scripts %}
<script>
let courseModules = null;
let dashboardProgress = null;

async function loadCourseModules() {
    try {
        const token = localStorage.getItem('auth_token');
        const headers = token ? {'Authorization': `Bearer ${token}`} : {};
        
        const response = await fetch('/api/course-modules', { headers });
        const data = await response.json();

        if (data.success) {
            courseModules = data.modules;
            renderCourseModules();
        } else {
            const container = document.getElementById('modulesContainer');
            if (container) {
                container.innerHTML = '<p>Error loading course modules. Please refresh the page.</p>';
            }
        }
    } catch (error) {
        console.error('Error loading course modules:', error);
        const container = document.getElementById('modulesContainer');
        if (container) {
            container.innerHTML = '<p>Error loading course modules. Please refresh the page.</p>';
        }
    }
}

function renderCourseModules() {
    if (!courseModules) return;

    const container = document.getElementById('modulesContainer');
    if (!container) return;
    
    container.innerHTML = courseModules.map(module => {
        const status = module.progress === 100 ? 'completed' : 
                       module.progress > 0 ? 'in-progress' : 'not-started';
        
        const statusText = module.progress === 100 ? 'Completed' :
                          module.progress > 0 ? 'In Progress' : 'Not Started';

        const moduleIcon = getModuleIcon(module.id);

        return `
            <div class="module-card">
                <div class="module-header">
                    <div class="module-title">
                        <div class="module-icon">${moduleIcon}</div>
                        <h3>${module.title}</h3>
                    </div>
                    <div class="module-status ${status}">${statusText}</div>
                </div>
                
                <div class="module-progress">
                    <div class="module-progress-bar">
                        <div class="module-progress-fill" style="width: ${module.progress}%"></div>
                    </div>
                    <div class="module-progress-text">
                        ${module.completed_topics} of ${module.topics.length} topics completed (${module.progress}%)
                    </div>
                </div>
                
                <div class="module-topics">
                    <div class="topic-list">
                        ${module.topics.slice(0, 3).map(topic => `
                            <div class="topic-item">
                                <div class="topic-checkbox ${topic.completed ? 'completed' : 'incomplete'}">
                                    ${topic.completed ? '‚úì' : '‚óã'}
                                </div>
                                <span>${topic.title}</span>
                            </div>
                        `).join('')}
                        ${module.topics.length > 3 ? `<div class="topic-item">... and ${module.topics.length - 3} more</div>` : ''}
                    </div>
                </div>
            </div>
        `;
    }).join('');
}

function getModuleIcon(moduleId) {
    const icons = {
        'ml_basics': 'ü§ñ',
        'data_preprocessing': 'üßπ',
        'supervised_learning': 'üéØ',
        'unsupervised_learning': 'üîç',
        'neural_networks': 'üß†',
        'model_evaluation': 'üìä'
    };
    return icons[moduleId] || 'üìö';
}

async function loadDashboardProgress() {
    try {
        const response = await fetch('/api/progress');
        const data = await response.json();
        
        if (data.success) {
            dashboardProgress = data.progress;
            updateDashboardProgress();
        }
    } catch (error) {
        console.error('Error loading dashboard progress:', error);
    }
}

function updateDashboardProgress() {
    if (!dashboardProgress) return;

    const progressFill = document.getElementById('dashboardProgressFill');
    const progressPercent = document.getElementById('dashboardProgressPercent');
    const topicsCompleted = document.getElementById('dashboardTopicsCompleted');
    const modulesCompleted = document.getElementById('dashboardModulesCompleted');
    const timeSpent = document.getElementById('dashboardTimeSpent');
    
    if (progressFill) progressFill.style.width = dashboardProgress.progress_percentage + '%';
    if (progressPercent) progressPercent.textContent = dashboardProgress.progress_percentage + '%';
    if (topicsCompleted) {
        topicsCompleted.textContent = dashboardProgress.completed_topics + ' / ' + dashboardProgress.total_topics;
    }
    if (modulesCompleted) {
        modulesCompleted.textContent = dashboardProgress.completed_modules + ' / ' + dashboardProgress.total_modules;
    }
    if (timeSpent) {
        timeSpent.textContent = formatTime(dashboardProgress.total_time_spent);
    }

    loadNextTopic();
}

async function loadNextTopic() {
    try {
        const response = await fetch('/api/next-topic');
        const data = await response.json();
        const nextTopicEl = document.getElementById('dashboardNextTopic');
        const nextTopicTitle = document.getElementById('nextTopicTitle');

        if (data.success && data.next_topic && nextTopicEl && nextTopicTitle) {
            const topic = data.next_topic.topic;
            nextTopicTitle.textContent = topic.title;
            nextTopicEl.style.display = 'block';
            nextTopicEl.dataset.topicId = topic.id;
            nextTopicEl.dataset.contentType = topic.content_type;
        } else if (nextTopicEl) {
            nextTopicEl.style.display = 'none';
        }
    } catch (error) {
        console.error('Error loading next topic:', error);
        const nextTopicEl = document.getElementById('dashboardNextTopic');
        if (nextTopicEl) nextTopicEl.style.display = 'none';
    }
}

function startNextTopic() {
    const nextTopicDiv = document.getElementById('dashboardNextTopic');
    if (!nextTopicDiv) return;
    
    const topicId = nextTopicDiv.dataset.topicId;
    const contentType = nextTopicDiv.dataset.contentType;

    if (topicId && contentType) {
        const routes = {
            'text': '/text-explanation',
            'code': '/code-generation',
            'audio': '/audio-learning',
            'image': '/image-visualization'
        };

        const route = routes[contentType] || '/';
        window.location.href = route + '?topic=' + encodeURIComponent(topicId);
    }
}

function formatTime(minutes) {
    if (minutes < 60) {
        return minutes + ' minute' + (minutes === 1 ? '' : 's');
    } else {
        const hours = Math.floor(minutes / 60);
        const mins = minutes % 60;
        return hours + 'h' + (mins > 0 ? ' ' + mins + 'm' : '');
    }
}

// Initialize dashboard progress when page loads
document.addEventListener('DOMContentLoaded', function() {
    loadDashboardProgress();
    loadCourseModules();
});
</script>
{% endblock %}
